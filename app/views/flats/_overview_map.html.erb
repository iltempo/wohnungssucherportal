<div id="map">
  <script type="text/javascript">
  
    function initialize() {
      var map = initMap(850, 750);
      var geocoder = new GClientGeocoder();

      // center map somewhere hardcoded
      geocoder.getLatLng('Kleinhesseloher See, MÃ¼nchen', function(latLng) {
        map.setCenter(latLng, 13);
      });

      addReferencePoints(map, geocoder, ["<%= amazon_muenchen %>"]);
      
      // add markers for flats
      G_addresses.each(function(address) {
        console.log(address);
        geocoder.getLatLng(address, function(latLng) {
          var marker = new GMarker(latLng, { 'title': address });
          map.addOverlay(marker);          
        });
      });
    }
    </script>
    
  <body onload="initialize()" onunload="GUnload()">
    <div id="map_canvas" style="width: 800px; height: 600px; border: 1px solid #000"></div>
</div>